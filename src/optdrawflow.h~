#pragma once

#include "stdafx.h"
#include <cv.h>

#include "optutil.h"

using namespace cv;
using namespace std;

void drawFlowWithoutZero(CvPoint2D32f* cornersprev, CvPoint2D32f* cornerscurr, IplImage* imgdst, bool isleft);

void drawFlowWithoutZero(CvMat* velx, CvMat* vely, IplImage* imgdst);

void drawFlowWithoutZero(Mat flow, Mat &framedst);

/*
*  Method:     drawFlowForFeatureCvPoint
*  Description: åœ¨imgdstå›¾åƒå¸§ä¸Šç”»å…‰æµ?
*  Returns:    void. 
*  CvPoint2D32f * cornersprev: Required = true. Xæ–¹å‘å…‰æµ. 
*  CvPoint2D32f * cornerscurr: Required = true. Yæ–¹å‘å…‰æµ.
*  IplImage * imgdst: Required = true. ç›®æ ‡å›¾åƒå¸?
*/
void drawFlowForFeatureCvPoint(CvPoint2D32f* cornersprev_11, CvPoint2D32f* cornerscurr_11, IplImage* imgdst, bool isleft = true);

/*
*  Method:     drawFlowForDenseCvMat
*  Description: åœ¨imgdstå›¾åƒå¸§ä¸Šç”»å…‰æµ?
*  Returns:    void. 
*  CvMat * velx: Required = true. Xæ–¹å‘å…‰æµ. 
*  CvMat * vely: Required = true. Yæ–¹å‘å…‰æµ. 
*  IplImage * imgdst: Required = true. ç›®çš„å›¾åƒå¸?
*/
void drawFlowForDenseCvMat(CvMat* velx, CvMat* vely, IplImage* imgdst);

/*
*  Method:     drawFlowForDenseMat
*  Description: åœ¨framedstå›¾åƒå¸§ä¸Šç”»å…‰æµ? 
*  Returns:    void. 
*  Mat flow: Required = true. å…‰æµ. 
*  Mat framedst: Required = true. ç›®æ ‡å›¾åƒå¸?
*/
void drawFlowForDenseMat(Mat flow, Mat &framedst);

void drawArrow(CvPoint p, CvPoint q, IplImage* imgdst, CvScalar rgb = CV_RGB(0,0,255) , int thickness = 1);

void drawArrow(CvPoint p, CvPoint q, Mat &framedst, CvScalar rgb = CV_RGB(0,0,255) , int thickness = 1);

#ifndef util_DRAW_FLOW_
#define util_DRAW_FLOW_

#endif